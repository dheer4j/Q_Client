{"ast":null,"code":"var _jsxFileName = \"/Users/siddu/IdeaProjects/Q_client/quantum_email_client/frontend/src/components/Email/QuantumEmailClient.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport Sidebar from '../Layout/Sidebar';\nimport EmailList from './EmailList';\nimport EmailView from './EmailView';\nimport Compose from './Compose';\nimport SearchBar from './SearchBar';\nimport EncryptionStatus from '../Common/EncryptionStatus';\nimport NotificationSystem from '../Common/NotificationSystem';\nimport { useEmailManagement } from '../../hooks/useEmailManagement';\n\n// Custom SVG Icons\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MailIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  className: \"h-6 w-6 mr-2 text-blue-500\",\n  fill: \"none\",\n  viewBox: \"0 0 24 24\",\n  stroke: \"currentColor\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 14,\n  columnNumber: 3\n}, this);\n_c = MailIcon;\nconst PlusIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  className: \"h-6 w-6\",\n  fill: \"none\",\n  viewBox: \"0 0 24 24\",\n  stroke: \"currentColor\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M12 4v16m8-8H4\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 20,\n  columnNumber: 3\n}, this);\n_c2 = PlusIcon;\nconst QuantumEmailClient = () => {\n  _s();\n  const {\n    emails,\n    loading,\n    error\n  } = useEmailManagement();\n  const [selectedEmail, setSelectedEmail] = useState(null);\n  const [isComposing, setIsComposing] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [activeFolder, setActiveFolder] = useState('Inbox');\n  const handleComposeClick = () => {\n    setIsComposing(true);\n    setSelectedEmail(null);\n  };\n  const handleCloseCompose = () => {\n    setIsComposing(false);\n  };\n  const handleEmailSelect = email => {\n    setSelectedEmail(email);\n    setIsComposing(false);\n  };\n  const handleSearch = query => {\n    setSearchQuery(query);\n  };\n  const handleFolderSelect = folder => {\n    setActiveFolder(folder);\n    setSelectedEmail(null);\n  };\n\n  // Filter emails based on search query and active folder\n  const filteredEmails = emails.filter(email => {\n    const matchesSearch = searchQuery === '' || email.subject.toLowerCase().includes(searchQuery.toLowerCase()) || email.sender.toLowerCase().includes(searchQuery.toLowerCase());\n    const matchesFolder = activeFolder === 'Encrypted' ? email.isEncrypted : true; // For now, we're not filtering by folder other than 'Encrypted'\n\n    return matchesSearch && matchesFolder;\n  }).map(email => ({\n    ...email,\n    preview: email.content.substring(0, 100) + (email.content.length > 100 ? '...' : '')\n  }));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-screen bg-gray-900 text-gray-100\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      activeFolder: activeFolder,\n      onFolderSelect: handleFolderSelect,\n      onComposeClick: handleComposeClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-96 bg-gray-800 border-r border-gray-700 p-4\",\n      children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n        onSearch: handleSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4\",\n        children: /*#__PURE__*/_jsxDEV(EncryptionStatus, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EmailList, {\n        emails: filteredEmails,\n        selectedEmailId: (selectedEmail === null || selectedEmail === void 0 ? void 0 : selectedEmail.id) || null,\n        onEmailSelect: handleEmailSelect,\n        loading: loading,\n        error: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 bg-gray-900 p-4\",\n      children: isComposing ? /*#__PURE__*/_jsxDEV(Compose, {\n        onClose: handleCloseCompose\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this) : selectedEmail ? /*#__PURE__*/_jsxDEV(EmailView, {\n        email: selectedEmail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-gray-500 mt-20\",\n        children: \"Select an email to view its contents\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NotificationSystem, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n_s(QuantumEmailClient, \"HZ0UJXaq6YItVHRC7YXyO5xpRmQ=\", false, function () {\n  return [useEmailManagement];\n});\n_c3 = QuantumEmailClient;\nexport default QuantumEmailClient;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"MailIcon\");\n$RefreshReg$(_c2, \"PlusIcon\");\n$RefreshReg$(_c3, \"QuantumEmailClient\");","map":{"version":3,"names":["React","useState","Sidebar","EmailList","EmailView","Compose","SearchBar","EncryptionStatus","NotificationSystem","useEmailManagement","jsxDEV","_jsxDEV","MailIcon","xmlns","className","fill","viewBox","stroke","children","strokeLinecap","strokeLinejoin","strokeWidth","d","fileName","_jsxFileName","lineNumber","columnNumber","_c","PlusIcon","_c2","QuantumEmailClient","_s","emails","loading","error","selectedEmail","setSelectedEmail","isComposing","setIsComposing","searchQuery","setSearchQuery","activeFolder","setActiveFolder","handleComposeClick","handleCloseCompose","handleEmailSelect","email","handleSearch","query","handleFolderSelect","folder","filteredEmails","filter","matchesSearch","subject","toLowerCase","includes","sender","matchesFolder","isEncrypted","map","preview","content","substring","length","onFolderSelect","onComposeClick","onSearch","selectedEmailId","id","onEmailSelect","onClose","_c3","$RefreshReg$"],"sources":["/Users/siddu/IdeaProjects/Q_client/quantum_email_client/frontend/src/components/Email/QuantumEmailClient.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport Header from '../Layout/Header';\nimport Sidebar from '../Layout/Sidebar';\nimport EmailList, { Email as EmailListEmail } from './EmailList';\nimport EmailView from './EmailView';\nimport Compose from './Compose';\nimport SearchBar from './SearchBar';\nimport EncryptionStatus from '../Common/EncryptionStatus';\nimport NotificationSystem from '../Common/NotificationSystem';\nimport { useEmailManagement } from '../../hooks/useEmailManagement';\n\n// Custom SVG Icons\nconst MailIcon = () => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 mr-2 text-blue-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n  </svg>\n);\n\nconst PlusIcon = () => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n  </svg>\n);\n\nconst QuantumEmailClient: React.FC = () => {\n  const { emails, loading, error } = useEmailManagement();\n  const [selectedEmail, setSelectedEmail] = useState<EmailListEmail | null>(null);\n  const [isComposing, setIsComposing] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [activeFolder, setActiveFolder] = useState('Inbox');\n\n  const handleComposeClick = () => {\n    setIsComposing(true);\n    setSelectedEmail(null);\n  };\n\n  const handleCloseCompose = () => {\n    setIsComposing(false);\n  };\n\n  const handleEmailSelect = (email: any) => {\n    setSelectedEmail(email);\n    setIsComposing(false);\n  };\n\n  const handleSearch = (query: string) => {\n    setSearchQuery(query);\n  };\n\n  const handleFolderSelect = (folder: string) => {\n    setActiveFolder(folder);\n    setSelectedEmail(null);\n  };\n\n  // Filter emails based on search query and active folder\n  const filteredEmails = emails.filter(email => {\n    const matchesSearch = searchQuery === '' || \n      email.subject.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      email.sender.toLowerCase().includes(searchQuery.toLowerCase());\n    \n    const matchesFolder = activeFolder === 'Encrypted' \n      ? email.isEncrypted \n      : true; // For now, we're not filtering by folder other than 'Encrypted'\n    \n    return matchesSearch && matchesFolder;\n  }).map(email => ({\n    ...email,\n    preview: email.content.substring(0, 100) + (email.content.length > 100 ? '...' : '')\n  }));\n\n  return (\n    <div className=\"flex h-screen bg-gray-900 text-gray-100\">\n      {/* Sidebar */}\n      <Sidebar \n        activeFolder={activeFolder} \n        onFolderSelect={handleFolderSelect} \n        onComposeClick={handleComposeClick}\n      />\n\n      {/* Email List */}\n      <div className=\"w-96 bg-gray-800 border-r border-gray-700 p-4\">\n        <SearchBar onSearch={handleSearch} />\n\n        <div className=\"mt-4\">\n          <EncryptionStatus />\n        </div>\n\n        <EmailList \n          emails={filteredEmails}\n          selectedEmailId={selectedEmail?.id || null}\n          onEmailSelect={handleEmailSelect}\n          loading={loading}\n          error={error}\n        />\n      </div>\n\n      {/* Email View or Compose */}\n      <div className=\"flex-1 bg-gray-900 p-4\">\n        {isComposing ? (\n          <Compose onClose={handleCloseCompose} />\n        ) : selectedEmail ? (\n          <EmailView email={selectedEmail} />\n        ) : (\n          <div className=\"text-center text-gray-500 mt-20\">\n            Select an email to view its contents\n          </div>\n        )}\n      </div>\n\n      {/* Notification System */}\n      <NotificationSystem />\n    </div>\n  );\n};\n\nexport default QuantumEmailClient;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}